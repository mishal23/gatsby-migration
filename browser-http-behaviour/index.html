<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.1b8828e60b6774559d64.css" id="gatsby-global-css">@import url(https://fonts.googleapis.com/css2?family=Lato&display=swap);
/*! normalize.css v6.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.5;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-family:Lato,sans-serif}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em;padding:1rem 2rem;overflow-x:auto}a{background-color:transparent;-webkit-text-decoration-skip:objects;text-decoration:none}a,a:hover{color:#26a8ed}a:hover,abbr[title]{text-decoration:underline}abbr[title]{border-bottom:none;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none;max-width:100%}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}[hidden],template{display:none}.highlight .hll{background-color:#ffc}.highlight .c{color:#999}.highlight .err{color:#a00;background-color:#faa}.highlight .k{color:#069}.highlight .o{color:#555}.highlight .cm{color:#09f;font-style:italic}.highlight .cp{color:#099}.highlight .c1,.highlight .cs{color:#999}.highlight .gd{background-color:#fcc;border:1px solid #c00}.highlight .ge{font-style:italic}.highlight .gr{color:red}.highlight .gh{color:#030}.highlight .gi{background-color:#cfc;border:1px solid #0c0}.highlight .go{color:#aaa}.highlight .gp{color:#009}.highlight .gu{color:#030}.highlight .gt{color:#9c6}.highlight .kc,.highlight .kd,.highlight .kn,.highlight .kp,.highlight .kr{color:#069}.highlight .kt{color:#078}.highlight .m{color:#f60}.highlight .s{color:#d44950}.highlight .na{color:#4f9fcf}.highlight .nb{color:#366}.highlight .nc{color:#0a8}.highlight .no{color:#360}.highlight .nd{color:#99f}.highlight .ni{color:#999}.highlight .ne{color:#c00}.highlight .nf{color:#c0f}.highlight .nl{color:#99f}.highlight .nn{color:#0cf}.highlight .nt{color:#2f6f9f}.highlight .nv{color:#033}.highlight .ow{color:#000}.highlight .w{color:#bbb}.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:#f60}.highlight .sb,.highlight .sc{color:#c30}.highlight .sd{color:#c30;font-style:italic}.highlight .s2,.highlight .se,.highlight .sh{color:#c30}.highlight .si{color:#a00}.highlight .sx{color:#c30}.highlight .sr{color:#3aa}.highlight .s1{color:#c30}.highlight .ss{color:#fc3}.highlight .bp{color:#366}.highlight .vc,.highlight .vg,.highlight .vi{color:#033}.highlight .il{color:#f60}.css .nt+.nt,.css .o,.css .o+.nt{color:#999}*,:after,:before{box-sizing:border-box}table{border-collapse:collapse;width:100%}table td,table th{border:1px solid #ddd;padding:8px}table tr:nth-child(2n){background-color:#f2f2f2}@media screen and (min-width:500px){html{font-size:calc(12.22222px + .55556vw)}}@media screen and (min-width:1400px){html{font-size:20px}}body{color:#515151;margin:0;background-color:#ecf3f3}blockquote{border-left:5px solid #ccc;padding-left:1.1rem;margin-left:1.2rem;font-style:italic;color:#ada8a8}.highlight{background-color:#faf9f9;border-radius:3px;margin:0}.highlighter-rouge,.language-text,code{color:#24292e;background-color:rgba(27,31,35,.050980392156862744);padding:.1rem .5rem}pre code{border:0;padding-right:0;padding-left:0}.sidebar{background-color:#2d2a2a;position:fixed;top:0;left:0;right:0;bottom:0;width:20rem;padding:1rem}.sidebar-menu{padding:0;margin:0 -2rem}.sidebar-menu .menu-items{list-style:none}.sidebar-menu .menu-links{font-size:1.2rem;text-transform:uppercase;display:block;text-decoration:none;padding:1rem 1.3rem;color:#faf9f9;font-weight:700;transition:all .35s}.sidebar-menu .menu-links:hover{-webkit-transform:translateY(3px);transform:translateY(3px);background-color:#faf9f9;color:#515151}.sidebar-container{height:100%;display:flex;flex-direction:column;justify-content:space-between;padding:1rem}.sidebar-logo .logo{color:#faf9f9;text-transform:uppercase;text-decoration:none;font-size:3rem;font-weight:700}.sidebar-social{text-align:center}.sidebar-social .social-items{display:inline-block}.sidebar-social .social-links{display:inline-block;text-decoration:none}.sidebar-social .social-icons{font-size:2.5rem;padding:.4rem .5rem;color:#faf9f9;transition:all .35s cubic-bezier(.13,.43,.54,1.82)}.sidebar-social .social-icons:hover{-webkit-transform:scale(1.2);transform:scale(1.2)}.content{position:relative;max-width:48rem;margin-left:22rem;margin-right:2rem;padding:4rem 1rem}.main-article,.page-article,.post{margin-bottom:6rem;box-shadow:0 50px 110px -40px rgba(86,119,119,.68),0 5px 20px rgba(0,0,0,.1)}.main-article .header-article,.main-article .page-header,.page-article .header-article,.page-article .page-header,.post .header-article,.post .page-header{text-align:center;margin-bottom:1rem}.main-article .wrap-content,.page-article .wrap-content,.post .wrap-content{background-color:#fff;padding:1rem}.main-article .page-title,.main-article .post-title,.main-article .title-article,.page-article .page-title,.page-article .post-title,.page-article .title-article,.post .page-title,.post .post-title,.post .title-article{margin-bottom:0;transition:all .3s;color:#515151;font-size:2.5rem;margin-top:.67rem}.main-article .page-title a,.main-article .post-title a,.main-article .title-article a,.page-article .page-title a,.page-article .post-title a,.page-article .title-article a,.post .page-title a,.post .post-title a,.post .title-article a{color:#515151;text-decoration:none}.main-article .page-date span,.main-article .post-date span,.page-article .page-date span,.page-article .post-date span,.post .page-date span,.post .post-date span{font-size:.8rem;text-transform:uppercase;font-family:monospace;color:#5f6c80}.main-article .more,.page-article .more,.post .more{text-decoration:none;color:#2d2a2a}img.page-img,img.post-image{width:100%}.page-content{padding-bottom:1rem;margin-bottom:1rem;border-bottom:1px solid #ccc}.pagination{text-align:center}.pagination a.next,.pagination a.previous{padding:1rem 2.5rem;color:#fff;text-transform:uppercase;box-shadow:0 2px 5px 0 rgba(0,0,0,.3);text-decoration:none;background:#15f3a8;transition:all .35s}.pagination a.next:hover,.pagination a.previous:hover{box-shadow:none}.pagination span.next,.pagination span.previous{text-transform:uppercase;color:#fff;padding:1rem 2.5rem;background:#ccc}.form{max-width:100%;width:25rem;margin:0 auto}.form-item label{display:inline-block;max-width:100%;margin-bottom:.5rem;font-size:1.2rem}.form-item input{height:2.5rem;text-indent:.75rem;padding:0}.form-item textarea{height:8rem;padding:.75rem;overflow:auto}.form-item input,.form-item textarea{width:100%;margin-bottom:15px;transition:all .7s ease;border:1px solid #ccc;outline:0;font-size:.7rem}.form-item:last-child{margin:1rem 0 2rem}.form-btn{width:100%;margin:0 auto;display:inherit;font-size:.8rem;text-transform:uppercase;padding:1rem 1.5rem;color:#faf9f9;background-color:#2d2a2a;border:0;border-radius:0;outline:0;letter-spacing:2px;cursor:pointer;transition:all .4s}.form-btn:hover{color:#2d2a2a;background:#ccc}div.newsletter{background:#2d2a2a;color:#fff;padding:1.5em;margin:1.5em auto;border-radius:5px;border:3px solid #2d2a2a}.newsletterform-item label{display:inline-block;max-width:100%;margin-bottom:.5rem;font-size:1rem}.newsletterform-item input{height:2.5rem;text-indent:.75rem;padding:0}.newsletterform-item textarea{height:8rem;padding:.75rem;overflow:auto}.newsletterform-item input,.newsletterform-item textarea{width:100%;margin-bottom:15px;transition:all .7s ease;border:1px solid #ccc;outline:0;font-size:.9rem}.newsletterform-item:last-child{margin:1rem 0 2rem}.newsletterform-btn{width:100%;margin:0 auto;display:inherit;font-size:.8rem;text-transform:uppercase;padding:1rem 1.5rem;color:#faf9f9;background-color:#2d2a2a;border:0;border-radius:0;outline:0;letter-spacing:2px;cursor:pointer;transition:all .4s}.newsletterform-btn:hover{color:#2d2a2a;background:#ccc}@media screen and (max-width:960px){.sidebar{width:16rem}.content{margin-left:18rem}}@media screen and (max-width:768px){.sidebar{position:inherit;width:100%;text-align:center}.content{margin:0 auto}.sidebar-logo,.sidebar-menu{margin-bottom:3rem}}@media screen and (max-width:360px){.previous{margin-bottom:.5rem}.next,.previous{display:block}}.btn-group{padding-bottom:.7em}.mob-menu-items{margin-left:.3em}.navbtn{background-color:#faf9f9;border:1px;font-weight:700;font-size:16px;color:#4a4545;border-radius:.2em;padding:10px;margin-top:2px;cursor:pointer}.navbtn:not(:last-child){border-right:none}.navbtn:hover{color:#4a4545;background-color:#faf9f9}.mob-menu-items:not(.active) .navbtn{background-color:#4a4545;border:1px;font-weight:700;font-size:16px;color:#fff;border-radius:.2em;padding:10px;margin-top:2px;cursor:pointer}a.active,li.active{background-color:#faf9f9;color:#4a4545!important}@media only screen and (max-width:700px){.sidebar-menu{display:none}.btn-group{display:block!important}}@media only screen and (max-width:3700px){.btn-group{display:none}}</style><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">Browser behaviour in HTTP/1.1 vs HTTP/2 | Mishal Shah</title><meta data-react-helmet="true" name="description" content="Understand the behaviour by most modern browsers for serving HTTP/1.1 and HTTP/2 websites"/><meta data-react-helmet="true" property="og:title" content="Browser behaviour in HTTP/1.1 vs HTTP/2"/><meta data-react-helmet="true" property="og:image" content="/mishal.jpeg"/><meta data-react-helmet="true" property="og:description" content="Understand the behaviour by most modern browsers for serving HTTP/1.1 and HTTP/2 websites"/><meta data-react-helmet="true" property="og:keywords" content="http, multiplexing, networking, chrome, network requests"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@1998Mishal"/><meta data-react-helmet="true" name="twitter:image" content="/mishal.jpeg"/><meta data-react-helmet="true" name="twitter:title" content="Browser behaviour in HTTP/1.1 vs HTTP/2"/><meta data-react-helmet="true" name="twitter:description" content="Understand the behaviour by most modern browsers for serving HTTP/1.1 and HTTP/2 websites"/><meta data-react-helmet="true" name="google-site-verification" content="wg6y8Zfr2js7siVPGbi0_lRuc4TzTiqRgb8LviprCZw"/><link rel="icon" href="/favicon-32x32.png?v=83c1b219b8968b6c5ed1ac2ce0eb2933" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#2d2a2a"/><link rel="apple-touch-icon" sizes="192x192" href="/favicon/android-chrome-192x192.png?v=83c1b219b8968b6c5ed1ac2ce0eb2933"/><link rel="apple-touch-icon" sizes="512x512" href="/favicon/android-chrome-512x512.png?v=83c1b219b8968b6c5ed1ac2ce0eb2933"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-17f22dc0affd9e7b9242.js"/><link as="script" rel="preload" href="/framework-66de6f443629588fba4e.js"/><link as="script" rel="preload" href="/app-65bdd26c5e5386ca382c.js"/><link as="script" rel="preload" href="/styles-7d4153d260c0197f0043.js"/><link as="script" rel="preload" href="/1bfc9850-bf11c46df488315bc303.js"/><link as="script" rel="preload" href="/4e50c8491530794bb375ce5b6241fd00fcad7e3c-487a8f80df93392da3c0.js"/><link as="script" rel="preload" href="/component---src-components-blog-post-js-4ddb63129e6a683c4b7a.js"/><link as="fetch" rel="preload" href="/page-data/browser-http-behaviour/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3172349477.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/764694655.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><aside class="sidebar"><div class="sidebar-container"><div class="sidebar-logo"><a class="logo" href="/">Mishal Shah</a></div><menu class="sidebar-menu"><li class="menu-items"><a class="menu-links" href="/">Home</a></li><li class="menu-items"><a class="menu-links" href="/about">About</a></li><li class="menu-items"><a class="menu-links" href="/projects">Projects</a></li><li class="menu-items"><a class="menu-links" href="/talks">Talks</a></li><li class="menu-items"><a class="menu-links" href="/contact">Contact</a></li></menu><div class="btn-group"><a class="mob-menu-items" href="/"><button class="navbtn">Home</button></a><a class="mob-menu-items" href="/about"><button class="navbtn">About</button></a><a class="mob-menu-items" href="/projects"><button class="navbtn">Projects</button></a><a class="mob-menu-items" href="/talks"><button class="navbtn">Talks</button></a><a class="mob-menu-items" href="/contact"><button class="navbtn">Contact</button></a></div><div class="sidebar-social"><li class="social-items"><a href="mailto:shahmishal1998@gmail.com" class="social-links" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="social-icons" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></a></li><li class="social-items"><a href="https://github.com/mishal23" class="social-links" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="social-icons" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li class="social-items"><a href="https://linkedin.com/in/mishal23" class="social-links" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="social-icons" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li class="social-items"><a href="https://www.facebook.com/mishal.shah.7731" class="social-links" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 320 512" class="social-icons" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"></path></svg></a></li><li class="social-items"><a href="https://twitter.com/@1998Mishal" class="social-links" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="social-icons" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li><li class="social-items"><a href="https://t.me/mishal23" class="social-links" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="social-icons" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"></path></svg></a></li></div></div></aside><main class="content"><article class="page-article"><div class="wrap-content"><header class="page-header"><h1 class="page-title"> <!-- -->Browser behaviour in HTTP/1.1 vs HTTP/2<!-- --> </h1><div class="page-date"><span>June 18, 2021<!-- -->    </span></div></header><div class="page-content"><div><p>My favourite time pass is to scroll on Twitter because I come across some good tweets (in my interests) and reading some shit-posts ;)</p>
<p>So, one fine day I came across <a href="https://twitter.com/TmPreet/status/1381914359639773187" target="_blank" rel="nofollow">this tweet</a>. The tweet asked why Chrome opens multiple connections for HTTP/1.1 for the same website but uses the same connection for HTTP/2?</p>
<p>How do we find out if Chrome opens a new connection or not? Notice the image below -- the connection ID remains the same for this website, whereas for a website hosted on an HTTP/1.1 server, there are multiple connection IDs.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/da4189f317b8df7f44ee9c57075030e2/5b4a1/http-2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 41.104294478527606%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABhElEQVQoz02SXW6jMBSFs8quokvpBrqMbqFvVVWpnc5D2xBCCQaMwYD5SQJMTu8xSjUPlsG6/u53j7yJDwoqy5GoDHGikOsCXd9DpRls0/izwpR+17KH0TdMZdG6DqasYG2NLxXjM0vhGodNlufYhRFSgeqikKISx+MRtq5/99PphEogwzh6YCa1/Gfjf+cZsTN4zjN0dYuNFqO9FJVVhcvlgmVZMM/zChhGuK7zwCuYQJ6zLheBeTzh1ewRWI2lG1ZDAnVhfEcCOlkEjmLk3Aq8mnOaYRh8U54t44Q/ZYiH6Bl9I4aJSqVoj3AfYRuEfjG/UvLhiK1zOJ/PYGOaBVJL4CJAbYwYTngvd7h9ukdeamyUAAlj4Vew8zB2ZwS82Lb/AwcEuxB9L8BlRqa1N3wpPnH390EMHQ3VL3ArQH4zr2uGV2AulxkBR+boBNKQwDezxc3jHT7SRAzFiJDoO/ZZ0uAgT8TaNcOmbX2GfAXM85Ak3n6aJmnWrjmPPaKmgKstfgAe2VdK+vTE4QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="HTTP/2"
        title="HTTP/2"
        src="/static/da4189f317b8df7f44ee9c57075030e2/a6d36/http-2.png"
        srcset="/static/da4189f317b8df7f44ee9c57075030e2/222b7/http-2.png 163w,
/static/da4189f317b8df7f44ee9c57075030e2/ff46a/http-2.png 325w,
/static/da4189f317b8df7f44ee9c57075030e2/a6d36/http-2.png 650w,
/static/da4189f317b8df7f44ee9c57075030e2/5b4a1/http-2.png 831w"
        sizes="(max-width: 650px) 100vw, 650px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span>
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/9d6fb57c4545e9bae2b644fa65d76d88/3534c/http-11.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 31.901840490797547%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIElEQVQY01WR3W6DMAyFef9Hm6ZpmlrtZqUUCiQQCOQfWunMTjupu7As5VjfOXaKU92jFQP0arFaj8U4GBcghglifNTl2qOXCnUr6F2hE2OeHSaNS9Oho7eq66G0RVE1BGxbGGMRvIe1FjGG3L13WNcV4ziSbiClhFJkUDfYtkS6z1pIET4F+LijKOsO5+oCIQcSVe5qmjDPOkO1XtALiYXAMUaMBDwcvzPYOZe1lDbs+w7jE4prL1GeK5zKKjsz1IeAWb8CBZZlIYAnsxmfX4ccgk3YIKVEwO0BrCghAweKfrvdct3vdxiCOVqJwX/AiVKrZ8Lm2sJSQob+A/6UdQbymixs2yM+pwvPpAzkE/CMoDu+vX+gpU/gE/BsfAH+Aq6PxXyHlZ6yAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="HTTP/1.1"
        title="HTTP/1.1"
        src="/static/9d6fb57c4545e9bae2b644fa65d76d88/a6d36/http-11.png"
        srcset="/static/9d6fb57c4545e9bae2b644fa65d76d88/222b7/http-11.png 163w,
/static/9d6fb57c4545e9bae2b644fa65d76d88/ff46a/http-11.png 325w,
/static/9d6fb57c4545e9bae2b644fa65d76d88/a6d36/http-11.png 650w,
/static/9d6fb57c4545e9bae2b644fa65d76d88/3534c/http-11.png 808w"
        sizes="(max-width: 650px) 100vw, 650px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>I got curious about this behaviour and wanted to understand more. I had previously studied the differences in persistent connections between HTTP/1.0 and HTTP/1.1 but never really explored the upgrades in HTTP/2 or HTTP/3.0. This seemed like a good opportunity, and thus decided to dive into it.</p>
<h2>HTTP/1.1 Pipelining</h2>
<p>Traditionally the behaviour of HTTP requests is that for the same connection, to send the subsequent request we've to wait for the response of the first request. As you might have already guessed, this would significantly increase the load time of a website's resources. Pipelining was introduced in HTTP/1.1 through which a client could send multiple requests without waiting for the server to send the response. The server will send the response to the client in the same order as the requests received.</p>
<p>This does seem to solve the problem, but it failed because:</p>
<ul>
<li>servers ignored pipelined requests or corrupted the responses</li>
<li><a href="https://en.wikipedia.org/wiki/Head-of-line_blocking" target="_blank" rel="nofollow">head of line blocking</a>: the first request in the pipeline blocked other requests in the pipeline, thus leading to slower pages.</li>
</ul>
<p>Hence, to optimize loading a page from the server supporting HTTP/1.1, Chrome browser opens 6 parallel connections, thus sending parallel requests and leading to faster page load. The reason why 6 connections was chosen as optimal is something I'm trying to understand, but don't have an answer yet. If you have an answer, please feel free to comment below.</p>
<h2>HTTP/2 Multiplexing</h2>
<p>To address the limitations in pipelining, HTTP/2 introduced multiplexing. HTTP/2 introduced a binary framing mechanism because of which multiplexing could be achieved since it allows the client and the server to break down an HTTP message into independent frames, interleave them and reassemble at the other end. Thus, the browser can send multiple requests with the same connection without any blocking, and we see Chrome using the same connection ID for HTTP/2 requests.</p>
<p>The diagram below depicts the differences in browser behaviour between HTTP/1.1 and HTTP/2.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/bb1d5b7f79c8311d2bd0f40b16ca1802/62a6a/compare-http-11-2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 63.190184049079754%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACvElEQVQozz2Q2WsTURTG5y/zTxB8UHwQH8USRVGorSg+KFRbfRGKwZdWVLB235ukW5bJ1iRz59656+yZJE2bVEsbmm3SGBV6+OBwPs73PfykVu/SLlWOT375/X7vsn819Xq9XK50ff/K6fX7bd93vPLJ2Xmn3+9e9iWXxD09HeUsxETedQ5dMZDnCINCQYBjkHLRqDjCc/WYaYW4gRzqsYSnp9yjkgS3p6n8M6Qqi3kgc+Zw6ApkMAjzKZBNMJS3hWYx1eDqloYXAQI8h/e+qrtfmYkl+OMhWxmJgOwy0JKCWRTYMGaSAlYzmpISWt7i0KIFk+YjlK5oAoE1MvsIzT0RTJb04DAOjoaV3BJAGcPwTFIkWUcgTUnDXNIgwLOZS4DNYITyFczz0TU9+AxNPiVKUnJHbxqv7m6m5BWNJnXuCGhENx2qDFo8E7u65gzEgMnhNuNruq2sfis+vyWe38axkHR03jg8a/xqtk4umo1Od0D1stf7y9b3O+324PqPerBO2+3fzWa92RxEqo2Ls3ZHanQ7pueVarWG77f/xf6//j47L5UrrXb3yml0u6etll4s1k5PWz2/1etJJgiXeWJH8DcAbVFS8/RqybDQgbIxpyT3aDZc0QuHDql74jPlYzmFOcSBOw7eFyVbQqFJtj8VJlpgP/E9ETOUOEYZbXGaDF1H4Xm+MMI2PrDUqnUQmsgVRnZjmKbodhCEg9hAEph5zNdf7jD4KCrP5TKHesHGspUL4+15mFg3k0tGbFnE1zyU/KjCF9EUUTfw/BO4MEx4WrImAmL8QQSCgJz5Ft9j8QVt/jX+ck/EZ/DcKH5/mwVuqHeu8akPEwiPyBm09cMeH2LvhnA2JomxITz+MKIq4wV1QwUnJb1qKlWRPnZpzVKqmlw5iJbTu0cczgjxScUgNKuP3dfeBtTU3h/P+Xvv+X4BXgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Comparison between HTTP/1.1 and HTTP/2"
        title="Comparison between HTTP/1.1 and HTTP/2"
        src="/static/bb1d5b7f79c8311d2bd0f40b16ca1802/a6d36/compare-http-11-2.png"
        srcset="/static/bb1d5b7f79c8311d2bd0f40b16ca1802/222b7/compare-http-11-2.png 163w,
/static/bb1d5b7f79c8311d2bd0f40b16ca1802/ff46a/compare-http-11-2.png 325w,
/static/bb1d5b7f79c8311d2bd0f40b16ca1802/a6d36/compare-http-11-2.png 650w,
/static/bb1d5b7f79c8311d2bd0f40b16ca1802/e548f/compare-http-11-2.png 975w,
/static/bb1d5b7f79c8311d2bd0f40b16ca1802/62a6a/compare-http-11-2.png 1122w"
        sizes="(max-width: 650px) 100vw, 650px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h2>Conclusion</h2>
<p>As we learned above, most modern browsers allow up to six parallel connections per origin in HTTP/1.1, which effectively allows up to six parallel resource transfers, whereas because of multiplexing in HTTP/2, one single connection by the browser serves effectively for resource transfers.</p>
<h2>References &#x26; Further Reading:</h2>
<ul>
<li>Image comparing HTTP/1.1 and HTTP/2 is taken from: <a href="https://freecontent.manning.com/mental-model-graphic-how-is-http-1-1-different-from-http-2/" target="_blank" rel="nofollow">How is HTTP/1.1 different from HTTP/2?</a></li>
<li>To learn about binary framing mechanism &#x26; HTTP/2 working: <a href="https://hpbn.co/http2/" target="_blank" rel="nofollow">HTTP/2</a></li>
<li><a href="https://datatracker.ietf.org/doc/html/rfc2616" target="_blank" rel="nofollow">HTTP/1.1 RFC2616</a>, <a href="https://datatracker.ietf.org/doc/html/rfc7540" target="_blank" rel="nofollow">HTTP/2 RFC7540</a></li>
<li><a href="https://www.chromium.org/developers/design-documents/network-stack/http-pipelining" target="_blank" rel="nofollow">https://www.chromium.org/developers/design-documents/network-stack/http-pipelining</a></li>
</ul></div><div class="newsletter"><p>Want to read more posts like the above? Sign-up to my monthly newsletter!</p><form class="form" action="https://buttondown.email/api/emails/embed-subscribe/mishal23" method="POST" target="popupwindow" class="embeddable-buttondown-form"><div class="newsletterform-item"><input type="email" placeholder="Enter your email" id="bd-email" class="contact-input" name="email" required=""/></div><div class="newsletterform-item"><input type="hidden" value="1" name="embed"/></div><div class="newsletterform-item"><input type="submit" value="Subscribe" class="newsletterform-btn"/></div></form><p>A monthly newsletter about software engineering, code, self-help and many more!</p></div><span class="disqus-comment-count" data-disqus-identifier="https://mishal.dev/*" data-disqus-url="https://mishal.dev/*">...</span><div id="disqus_thread"></div></div></div></article></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  window.excludeGAPaths=[/^(?:\/preview\/(?:(?!(?:\/|^)\.).)*?)$/,/^(?:\/do\-not\-track\/me\/too\/)$/];
  
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-110715968-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/browser-http-behaviour";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-91f1a81791041a697230.js"],"app":["/app-65bdd26c5e5386ca382c.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-ad6431e4664bcf916d19.js"],"component---src-components-blog-post-js":["/component---src-components-blog-post-js-4ddb63129e6a683c4b7a.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c081d8776b38d39fb9dc.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-08132e46754da562c529.js"],"component---src-pages-index-js":["/component---src-pages-index-js-ebe761d0f6718a3cff4d.js"],"component---src-pages-newsletter-js":["/component---src-pages-newsletter-js-52954fba4e813eec94e7.js"],"polyfills-dom":["/polyfills-dom-92b7955554f9b5852d61.js"],"polyfills-core-js":["/polyfills-core-js-0d71faf430e24e77c97b.js"],"polyfills-css-shim":["/polyfills-css-shim-f590f47512762d5fbbc6.js"]};/*]]>*/</script><script src="/polyfill-91f1a81791041a697230.js" nomodule=""></script><script src="/component---src-components-blog-post-js-4ddb63129e6a683c4b7a.js" async=""></script><script src="/4e50c8491530794bb375ce5b6241fd00fcad7e3c-487a8f80df93392da3c0.js" async=""></script><script src="/1bfc9850-bf11c46df488315bc303.js" async=""></script><script src="/styles-7d4153d260c0197f0043.js" async=""></script><script src="/app-65bdd26c5e5386ca382c.js" async=""></script><script src="/framework-66de6f443629588fba4e.js" async=""></script><script src="/webpack-runtime-17f22dc0affd9e7b9242.js" async=""></script></body></html>